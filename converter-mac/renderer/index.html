<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'">
  <title>Invoice Converter</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- macOS Title Bar Area (for traffic lights) -->
  <div class="titlebar">
    <div class="titlebar-drag">
      <div class="titlebar-spacer"></div>
      <div class="titlebar-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
      </div>
      <span class="titlebar-title">Invoice Converter</span>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-container">
    <!-- Left Panel -->
    <div class="left-panel">
      <!-- Drop Zone -->
      <div class="drop-zone" id="drop-zone">
        <div class="drop-zone-content">
          <div class="drop-icon">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
              <polyline points="17 8 12 3 7 8"></polyline>
              <line x1="12" y1="3" x2="12" y2="15"></line>
            </svg>
          </div>
          <h2>Drop Your Invoice Here</h2>
          <p>or click to browse</p>
          <span class="supported-formats">JSON â€¢ XML â€¢ CSV</span>
        </div>
        <input type="file" id="file-input" accept=".json,.xml,.csv" hidden>
      </div>

      <!-- File Info -->
      <div class="file-info hidden" id="file-info">
        <div class="file-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <polyline points="14 2 14 8 20 8"></polyline>
          </svg>
        </div>
        <div class="file-details">
          <span class="file-name" id="file-name">invoice.json</span>
          <span class="file-size" id="file-size">2.5 KB</span>
        </div>
        <button class="clear-btn" id="clear-btn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>

      <!-- Format Selection -->
      <div class="section">
        <h3>Output Format</h3>
        <div class="format-grid">
          <button class="format-btn active" data-format="ubl">
            <span class="format-name">UBL 2.1</span>
            <span class="format-desc">XML Standard</span>
          </button>
          <button class="format-btn" data-format="cii">
            <span class="format-name">CII</span>
            <span class="format-desc">UN/CEFACT</span>
          </button>
          <button class="format-btn" data-format="pdf">
            <span class="format-name">PDF</span>
            <span class="format-desc">Printable</span>
          </button>
          <button class="format-btn" data-format="json">
            <span class="format-name">JSON</span>
            <span class="format-desc">Structured</span>
          </button>
        </div>
      </div>

      <!-- Country Selection -->
      <div class="section">
        <h3>Country (CIUS)</h3>
        <select class="country-select" id="country-select">
          <option value="DE">ğŸ‡©ğŸ‡ª Germany (XRechnung)</option>
          <option value="FR">ğŸ‡«ğŸ‡· France (Factur-X)</option>
          <option value="IT">ğŸ‡®ğŸ‡¹ Italy (FatturaPA)</option>
          <option value="ES">ğŸ‡ªğŸ‡¸ Spain</option>
          <option value="UK">ğŸ‡¬ğŸ‡§ United Kingdom</option>
          <option value="AT">ğŸ‡¦ğŸ‡¹ Austria</option>
          <option value="NL">ğŸ‡³ğŸ‡± Netherlands</option>
          <option value="BE">ğŸ‡§ğŸ‡ª Belgium</option>
        </select>
      </div>

      <!-- Action Buttons -->
      <div class="actions">
        <button class="btn btn-primary" id="convert-btn" disabled>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
          </svg>
          Convert
        </button>
        <button class="btn btn-secondary" id="validate-btn" disabled>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <polyline points="22 4 12 14.01 9 11.01"></polyline>
          </svg>
          Validate
        </button>
      </div>
    </div>

    <!-- Right Panel -->
    <div class="right-panel">
      <!-- Status Area -->
      <div class="status-area" id="status-area">
        <div class="empty-state" id="empty-state">
          <div class="empty-icon">
            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
              <polyline points="14 2 14 8 20 8"></polyline>
              <line x1="16" y1="13" x2="8" y2="13"></line>
              <line x1="16" y1="17" x2="8" y2="17"></line>
            </svg>
          </div>
          <h2>Ready to Convert</h2>
          <p>Drop an invoice file to get started</p>
        </div>

        <!-- Loading State -->
        <div class="loading-state hidden" id="loading-state">
          <div class="spinner"></div>
          <p>Processing your invoice...</p>
        </div>

        <!-- Success State -->
        <div class="success-state hidden" id="success-state">
          <div class="success-icon">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
              <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </svg>
          </div>
          <h2>Conversion Complete!</h2>
          <p class="output-path" id="output-path">File saved to: output.xml</p>
          <button class="btn btn-outline" id="open-folder-btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
            </svg>
            Show in Finder
          </button>
        </div>

        <!-- Error State -->
        <div class="error-state hidden" id="error-state">
          <div class="error-icon">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="15" y1="9" x2="9" y2="15"></line>
              <line x1="9" y1="9" x2="15" y2="15"></line>
            </svg>
          </div>
          <h2>Validation Errors</h2>
          <div class="error-list" id="error-list"></div>
        </div>

        <!-- Warnings -->
        <div class="warnings-area hidden" id="warnings-area">
          <h3>âš ï¸ Warnings</h3>
          <div class="warning-list" id="warning-list"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
